<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Result</title>

    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css">
</head>
<body>

<div class="container my-3">
    <div class="row">
        <div class="col-md-8 mx-auto">
<h2>Result</h2>
<div class="my-3">
    <table class="table table-striped" id="table">
        <thead id="t-head">
            <tr>
                <th scope="col">ID</th>
                <th scope="col">Title</th>
                <th scope="col">Type</th>
                <th scope="col">Color</th>
                <th scope="col">Description</th>
                <th scope="col">Days</th>
                <th scope="col">Price</th>
                <th scope="col">Featured</th>
                <th scope="col">LaunchDate</th>
            </tr>
        </thead>
        <tbody id="project-list"></tbody>
    </table>
</div>
<a th:href="@{/createProjectJS}">Add new project</a>
        </div>
    </div>
</div>
<!--    <p><strong>ID:</strong> <span th:text="${project.id}"></span></p>-->
<!--    <p><strong>Title:</strong> <span th:text="${project.title}"></span></p>-->
<!--    <p><strong>Type:</strong> <span th:text="${project.type}"></span></p>-->
<!--    <p><strong>Color:</strong> <span th:text="${project.color}"></span></p>-->
<!--    <p><strong>Description:</strong> <span th:text="${project.description}"></span></p>-->
<!--    <p><strong>Days:</strong> <span th:text="${project.days}"></span></p>-->
<!--    <p><strong>Price:</strong> <span th:text="${project.price}"></span></p>-->
<!--    <p><strong>Featured:</strong> <span th:text="${project.featured} ? 'Yes' : 'No'"></span></p>-->
<!--    <p><strong>Launch Date:</strong> <span th:text="${project.launchDate}"></span></p>-->
<!--      <tbody>-->
<!--            <tr th:each="project : ${projectList}">-->
<!--                <td th:text="${project.id}"></td> -->
<!--                <td th:text="${project.title}"></td> -->
<!--                <td th:text="${project.type}"></td> -->
<!--                <td th:text="${project.color}"></td> -->
<!--                <td th:text="${project.description}"></td> -->
<!--                <td th:text="${project.days}"></td> -->
<!--                <td th:text="${project.price}"></td> -->
<!--                <td th:text="${project.featured} ? 'Yes' : 'No'"></td> -->
<!--                <td style="white-space:nowrap;" th:text="${project.launchDate}"></td> -->
<!--            </tr> -->
<!--        </tbody> -->

<!--      const project = {-->
<!--            id: projectId,-->
<!--            title: projectTitle,-->
<!--            type: projectType,-->
<!--            color: projectColor,-->
<!--            price: projectPrice,-->
<!--            launchDate: projectLaunchDate,-->
<!--            days: projectDays,-->
<!--            featured: projectFeatured,-->
<!--            description: projectDescription-->
<!--        };-->
<script>
    function displayProjects(projects) {
      const projectList = document.getElementById("project-list");
      for(let i = 0; i < projects.length; i++) {
          const currProject = projects[i];

          const tableRow = document.createElement("tr");

          const idCell = document.createElement("td");
          const titleCell = document.createElement("td");
          const typeCell = document.createElement("td");
          const colorCell = document.createElement("td");
          const priceCell = document.createElement("td");
          const launchDateCell = document.createElement("td");
          const daysCell = document.createElement("td");
          const featuredCell = document.createElement("td");
          const descriptionCell = document.createElement("td");

          idCell.innerText = currProject.id;
          titleCell.innerText = currProject.title;
          typeCell.innerText = currProject.type;
          colorCell.innerText = currProject.color;
          priceCell.innerText = currProject.price;
          launchDateCell.innerText = currProject.launchDate;
          daysCell.innerText = currProject.days;
          featuredCell.innerText = currProject.featured;
          descriptionCell.innerText = currProject.description;

          tableRow.appendChild(idCell);
          tableRow.appendChild(titleCell);
          tableRow.appendChild(typeCell);
          tableRow.appendChild(colorCell);
          tableRow.appendChild(descriptionCell);
          tableRow.appendChild(daysCell);
          tableRow.appendChild(priceCell);
          tableRow.appendChild(featuredCell);
          tableRow.appendChild(launchDateCell);

          projectList.appendChild(tableRow);
      }
    }
    fetch("/projects")
            .then(response => response.json())
            .then(projects => displayProjects(projects))
            .catch(error => console.error(error));
</script>
</body>
</html>